@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

// Variables
$primary-color: #42d392;
$secondary-color: #03ac0e;
$accent-color: #ff6b35;
$text-primary: #2d3748;
$text-secondary: #718096;
$text-muted: #a0aec0;
$bg-primary: #ffffff;
$bg-secondary: #f7fafc;
$bg-muted: #edf2f7;
$border-color: #e2e8f0;
$shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.1);
$shadow-md: 0 4px 6px rgba(0, 0, 0, 0.1);
$shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.1);
$shadow-xl: 0 20px 25px rgba(0, 0, 0, 0.1);
$border-radius: 8px;
$border-radius-lg: 12px;
$transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);

// Mixins
@mixin flex-center {
	display: flex;
	align-items: center;
	justify-content: center;
}

@mixin flex-between {
	display: flex;
	align-items: center;
	justify-content: space-between;
}

@mixin skeleton {
	background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
	background-size: 200% 100%;
	animation: loading 1.5s infinite;
}

@keyframes loading {
	0% { background-position: 200% 0; }
	100% { background-position: -200% 0; }
}

@keyframes fadeIn {
	from { opacity: 0; transform: translateY(20px); }
	to { opacity: 1; transform: translateY(0); }
}

@keyframes slideIn {
	from { opacity: 0; transform: translateX(-20px); }
	to { opacity: 1; transform: translateX(0); }
}

// Base styles
.products-page {
	font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
	background: $bg-secondary;
	min-height: 100vh;
	padding-bottom: 2rem;
	animation: fadeIn 0.6s ease-out;
}

// Breadcrumb
.breadcrumb {
	background: $bg-primary;
	padding: 1rem 0;
	border-bottom: 1px solid $border-color;
	
	ol {
		@include flex-center;
		justify-content: flex-start;
		max-width: 1200px;
		margin: 0 auto;
		padding: 0 1rem;
		list-style: none;
		gap: 0.5rem;
		
		li {
			display: flex;
			align-items: center;
			
			&:not(:last-child)::after {
				content: '/';
				margin-left: 0.5rem;
				color: $text-muted;
			}
			
			a {
				color: $text-secondary;
				text-decoration: none;
				font-size: 0.875rem;
				transition: $transition;
				
				&:hover {
					color: $primary-color;
				}
			}
			
			&[aria-current="page"] {
				color: $text-primary;
				font-weight: 500;
				font-size: 0.875rem;
			}
		}
	}
}

// Search Header
.search-header {
	background: linear-gradient(135deg, $primary-color 0%, $secondary-color 100%);
	padding: 2rem 0;
	position: relative;
	overflow: hidden;
	
	&::before {
		content: '';
		position: absolute;
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;
		background: url("data:image/svg+xml,%3csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3e%3cg fill='none' fill-rule='evenodd'%3e%3cg fill='%23ffffff' fill-opacity='0.05'%3e%3ccircle cx='30' cy='30' r='4'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e");
		animation: float 20s ease-in-out infinite;
	}
	
	.search-container {
		max-width: 1200px;
		margin: 0 auto;
		padding: 0 1rem;
		position: relative;
		z-index: 1;
	}
	
	.search-box {
		display: flex;
		align-items: center;
		background: $bg-primary;
		border-radius: $border-radius-lg;
		box-shadow: $shadow-lg;
		padding: 0.75rem 1rem;
		max-width: 600px;
		margin: 0 auto;
		transition: $transition;
		
		&:focus-within {
			box-shadow: $shadow-xl;
			transform: translateY(-2px);
		}
		
		svg {
			color: $text-muted;
			margin-right: 0.75rem;
			flex-shrink: 0;
		}
		
		input {
			flex: 1;
			border: none;
			outline: none;
			font-size: 1rem;
			color: $text-primary;
			background: transparent;
			
			&::placeholder {
				color: $text-muted;
			}
		}
		
		.search-btn {
			background: $primary-color;
			color: white;
			border: none;
			padding: 0.5rem 1.5rem;
			border-radius: $border-radius;
			font-weight: 500;
			cursor: pointer;
			transition: $transition;
			margin-left: 1rem;
			
			&:hover {
				background: $secondary-color;
				transform: translateY(-1px);
			}
		}
	}
}

@keyframes float {
	0%, 100% { transform: translateY(0px) rotate(0deg); }
	50% { transform: translateY(-20px) rotate(180deg); }
}

// Products Container
.products-container {
	display: grid;
	grid-template-columns: 280px 1fr;
	gap: 1.5rem;
	max-width: 1200px;
	margin: 2rem auto 0;
	padding: 0 1rem;
	
	@media (max-width: 768px) {
		grid-template-columns: 1fr;
		gap: 1rem;
		margin-top: 1rem;
	}
}

// Filters Sidebar
.filters-sidebar {
	background: $bg-primary;
	border-radius: $border-radius-lg;
	box-shadow: $shadow-sm;
	height: fit-content;
	position: sticky;
	top: 1rem;
	transition: $transition;
	animation: slideIn 0.5s ease-out;
	
	@media (max-width: 768px) {
		position: fixed;
		top: 0;
		left: 0;
		width: 280px;
		height: 100vh;
		z-index: 1000;
		transform: translateX(-100%);
		border-radius: 0;
		
		&.show {
			transform: translateX(0);
		}
	}
}

// Products Main
.products-main {
	min-height: 600px;
	animation: fadeIn 0.6s ease-out 0.2s both;
}

// Toolbar
.products-toolbar {
	@include flex-between;
	background: $bg-primary;
	padding: 1rem 1.5rem;
	border-radius: $border-radius-lg;
	box-shadow: $shadow-sm;
	margin-bottom: 1.5rem;
	flex-wrap: wrap;
	gap: 1rem;
	
	.toolbar-left {
		display: flex;
		align-items: center;
		gap: 1rem;
		flex: 1;
		
		.filter-toggle {
			@include flex-center;
			gap: 0.5rem;
			background: transparent;
			border: 1px solid $border-color;
			padding: 0.5rem 1rem;
			border-radius: $border-radius;
			color: $text-secondary;
			cursor: pointer;
			transition: $transition;
			font-size: 0.875rem;
			
			&:hover, &.active {
				background: $primary-color;
				color: white;
				border-color: $primary-color;
			}
			
			@media (min-width: 769px) {
				display: none;
			}
		}
		
		.results-info {
			color: $text-secondary;
			font-size: 0.875rem;
			
			.skeleton-text {
				@include skeleton;
				height: 1rem;
				width: 120px;
				border-radius: 4px;
			}
		}
	}
	
	.toolbar-right {
		display: flex;
		align-items: center;
		gap: 1rem;
		
		.view-toggle {
			display: flex;
			background: $bg-muted;
			border-radius: $border-radius;
			padding: 2px;
			
			.view-btn {
				@include flex-center;
				background: transparent;
				border: none;
				padding: 0.5rem;
				border-radius: calc($border-radius - 2px);
				color: $text-muted;
				cursor: pointer;
				transition: $transition;
				
				&.active {
					background: $bg-primary;
					color: $primary-color;
					box-shadow: $shadow-sm;
				}
			}
		}
		
		.sort-dropdown {
			position: relative;
			
			select {
				appearance: none;
				background: $bg-primary;
				border: 1px solid $border-color;
				padding: 0.5rem 2rem 0.5rem 1rem;
				border-radius: $border-radius;
				color: $text-primary;
				cursor: pointer;
				font-size: 0.875rem;
				min-width: 140px;
				
				&:focus {
					outline: none;
					border-color: $primary-color;
				}
			}
			
			svg {
				position: absolute;
				right: 0.75rem;
				top: 50%;
				transform: translateY(-50%);
				color: $text-muted;
				pointer-events: none;
			}
		}
	}
}

// Products Grid
.products-grid {
	display: grid;
	grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
	gap: 1.5rem;
	margin-bottom: 2rem;
	
	&.list-view {
		grid-template-columns: 1fr;
		gap: 1rem;
	}
	
	@media (max-width: 640px) {
		grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
		gap: 1rem;
		
		&.list-view {
			grid-template-columns: 1fr;
		}
	}
}

// Empty State
.empty-state {
	grid-column: 1 / -1;
	@include flex-center;
	flex-direction: column;
	padding: 4rem 2rem;
	text-align: center;
	
	.empty-icon {
		color: $text-muted;
		margin-bottom: 1.5rem;
		opacity: 0.5;
	}
	
	h3 {
		color: $text-primary;
		font-size: 1.5rem;
		font-weight: 600;
		margin-bottom: 0.5rem;
	}
	
	p {
		color: $text-secondary;
		margin-bottom: 2rem;
		max-width: 400px;
	}
	
	.btn-primary {
		background: $primary-color;
		color: white;
		border: none;
		padding: 0.75rem 2rem;
		border-radius: $border-radius;
		font-weight: 500;
		cursor: pointer;
		transition: $transition;
		
		&:hover {
			background: $secondary-color;
			transform: translateY(-2px);
			box-shadow: $shadow-md;
		}
	}
}

// Responsive Design
@media (max-width: 1024px) {
	.products-container {
		max-width: 100%;
		padding: 0 0.5rem;
	}
	
	.search-header {
		padding: 1.5rem 0;
		
		.search-container {
			padding: 0 0.5rem;
		}
	}
}

@media (max-width: 768px) {
	.products-toolbar {
		padding: 1rem;
		
		.toolbar-left {
			flex-direction: column;
			align-items: flex-start;
			gap: 0.5rem;
			width: 100%;
		}
		
		.toolbar-right {
			width: 100%;
			justify-content: space-between;
		}
	}
	
	.search-box {
		flex-direction: column;
		gap: 1rem;
		padding: 1rem !important;
		
		.search-btn {
			margin-left: 0 !important;
			width: 100%;
		}
	}
}

@media (max-width: 480px) {
	.breadcrumb ol {
		padding: 0 0.5rem;
	}
	
	.search-header .search-container {
		padding: 0 0.5rem;
	}
	
	.products-grid {
		grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
	}
}